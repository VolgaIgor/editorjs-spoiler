!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Spoiler=e():t.Spoiler=e()}(self,(()=>(()=>{"use strict";var t={523:(t,e,n)=>{n.d(e,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([t.id,".cdx-spoiler_wrapper {\n    --spoiler-color: rgba(201, 201, 204, .48);\n    border-radius: 3px;\n    background-color: var(--spoiler-color);\n    padding-bottom: 1px;\n}\n\n.cdx-spoiler_header {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 12px;\n    padding: 8px;\n    padding-left: 15px;\n}\n\n.cdx-spoiler_icon {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.cdx-spoiler_editor {\n    padding: 0 12px 0 16px;\n    background-color: #fff;\n    border-radius: 6px;\n    margin: 2px 8px 6px;\n}\n\n.ce-toolbar--opened {\n    z-index: 1;\n}",""]);const s=a},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var d=0;d<t.length;d++){var p=[].concat(t[d]);r&&a[p[0]]||(void 0!==i&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=i),n&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=n):p[2]=n),o&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=o):p[4]="".concat(o)),e.push(p))}},e}},601:t=>{t.exports=function(t){return t[1]}},72:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},a=[],s=0;s<t.length;s++){var c=t[s],d=r.base?c[0]+r.base:c[0],p=i[d]||0,l="".concat(d," ").concat(p);i[d]=p+1;var u=n(l),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)e[u].references++,e[u].updater(h);else{var f=o(h,r);r.byIndex=s,e.splice(s,0,{identifier:l,updater:f,references:1})}a.push(l)}return a}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var s=n(i[a]);e[s].references--}for(var c=r(t,o),d=0;d<i.length;d++){var p=n(i[d]);0===e[p].references&&(e[p].updater(),e.splice(p,1))}i=c}}},659:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0;var r={};n.d(r,{default:()=>g});var o=n(72),i=n.n(o),a=n(825),s=n.n(a),c=n(659),d=n.n(c),p=n(56),l=n.n(p),u=n(540),h=n.n(u),f=n(113),v=n.n(f),m=n(523),x={};x.styleTagTransform=v(),x.setAttributes=l(),x.insert=d().bind(null,"head"),x.domAPI=s(),x.insertStyleElement=h(),i()(m.A,x),m.A&&m.A.locals&&m.A.locals;const y='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.77778 6L18.5 17.7222"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.687 10C10.2473 10.4392 10.0002 11.035 10 11.6564C9.99978 12.2777 10.2465 12.8737 10.6858 13.3132C11.1251 13.7527 11.7211 13.9998 12.3427 14C12.9642 14.0002 13.5604 13.7536 14 13.3144"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7C17 11.1666 20 11.17 20 11.67C20 12.17 19 13.17 19 13.17M8.2424 8.80936C7.59317 9.22876 6.97961 9.76732 6.4017 10.4251C5.70398 11.2193 5.35512 11.6164 5.35513 12.3702C5.35514 13.124 5.70406 13.5211 6.40191 14.3154C7.99587 16.1297 9.8618 17.0367 12 17.0367C13.1102 17.0367 14.1466 16.7917 15.1111 16.3024"/></svg>';class g{static get toolbox(){return{icon:y,title:"Spoiler"}}static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}constructor({data:t,api:e,config:n,readOnly:r,block:o}){this.api=e,this.config={editorLibrary:n.editorLibrary,editorTools:n.editorTools||{},editorTunes:n.editorTunes||{}},this.readOnly=r,this.block=o,this._data={caption:"",content:{}},this.data=t,this._rootNode=null,this._captionInput=null,this._editor=null}get CSS(){return{root:"cdx-spoiler",wrapper:"cdx-spoiler_wrapper",header:"cdx-spoiler_header",icon:"cdx-spoiler_icon",input:"cdx-spoiler_input",editor:"cdx-spoiler_editor"}}get data(){return this._data}set data(t){this._data.caption=t.caption||"",this._captionInput&&(this._captionInput.value=this.data.caption),this._data.content=t.content||{},this._editor&&this._editor.blocks.render(this.data.content)}render(){const t=document.createElement("div");t.classList.add(this.CSS.root,this.api.styles.block);const e=document.createElement("div");e.classList.add(this.CSS.wrapper);const n=document.createElement("div");n.classList.add(this.CSS.header);const r=document.createElement("div");r.classList.add(this.CSS.icon),r.innerHTML=y;const o=document.createElement("input");o.classList.add(this.CSS.input,this.api.styles.input),o.value=this.data.caption,o.placeholder=this.api.i18n.t("Hidden text"),this._captionInput=o,n.appendChild(r),n.appendChild(o);const i=document.createElement("div");return i.classList.add(this.CSS.editor),e.appendChild(n),e.appendChild(i),t.appendChild(e),this._rootNode=t,this._editor=new this.config.editorLibrary({holder:i,data:this.data.content,tools:this.config.editorTools,tunes:this.config.editorTunes,minHeight:150,readOnly:this.readOnly,onChange:()=>{this.block.dispatchChange()}}),t}async save(){const t=await this._editor.save();return{caption:this._captionInput.value,content:t||[]}}}return r.default})()));